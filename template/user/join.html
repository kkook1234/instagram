<!doctype html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>회원 가입</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>
  <body style="background:#FAFAFA">
  <div style="display:flex; flex-direction:column;align-items:center;justify-content:center; width:100%;text-align:center;">
      <div style="padding:10px;border:solid 1px rgba(219,219,219,1); width:300px; height:500px; margin-top:30px; background:white">
         <div style="text-align:center;padding-bottom:10px;"><img src="https://cdn.pixabay.com/photo/2016/08/15/01/29/instagram-1594387_960_720.png" style="width:200px;height:60px; object-fit:contain"></div>
        <div style="font-weight:bold; color:gray;padding-bottom:20px;">친구들의 사진과 동영상을 보려면 가입하세요</div>
        <div style="">
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="input_email" placeholder="name@example.com" style="font-size:14px; ">
                <label for="input_email"style="font-size:14px;">이메일 주소</label>
            </div>
        </div>
        <div>
            <div class="form-floating mb-3"style="">
                <input type="text" class="form-control" id="input_name" placeholder="name@example.com" style="font-size:14px; height:24px;">
                <label for="input_name"style="font-size:14px;">이름</label>
            </div>
        </div>
        <div>
            <div>
                <div class="form-floating mb-3"style="">
                    <input type="text" class="form-control" id="input_nickname" placeholder="name@example.com" style="font-size:14px; height:34px;">
                    <label for="input_nickname"style="font-size:14px;">닉네임</label>
                </div>
            </div>
        </div>
        <div>
            <div>
                <div class="form-floating mb-3" style="">
                    <input type="password" class="form-control" id="input_password" placeholder="name@example.com"
                           style="font-size:14px; height:34px;">
                    <label for="input_password" style="font-size:14px;">비밀번호</label>
                </div>
            </div>
        </div>
        <button id="join_button" class="btn btn-primary" style="width:100%;">가입 버튼</button>
          </div>
      <div style="padding:10px;border:solid 1px rgba(219,219,219,1); width:300px; height:70px; margin-top:30px; background:white">
          <div>계정이 있으신가요? <a href="login">로그인</a></div>
          </div>
      </div>
    <script>
     $('#join_button').on('click',()=>{
        console.log('클릭했다.');
        let email = $('#input_email').val();
        let name = $('#input_name').val();
        let user_id = $('#input_nickname').val();
        let password = $('#input_password').val();
        console.log('이멜 :' + email + ', 이름 :'  + name + ', 사용자이름 :'  +  user_id + ', 비밀번호 :'  +  password);

        $.ajax({
            url: "/user/join",
            data: {
                'email': email,
                'nickname': user_id,
                'name': name,
                'password': password
            },
            method: "POST",

            success: function (data){
                console.log("성공");
                location.replace('/user/login');
            },
            error:function (request, status, error){
                console.log(error);
                location.replace('/user/login');
            }
        });


    });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  </body>
</html>